{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container my-5">
    <div class="text-center mb-4">
        <div class="row mt-3">

            <div class="col">
                <hr>
                <h4>–ù–∞–π—Ç–∏ —Å–Ω–∏–ø–ø–µ—Ç –ø–æ –Ω–æ–º–µ—Ä—É</h4>
                <form action='' id="view_snippet_form">
                    <div class="form-group row">
                        <label for="snippet_id" class="col-sm-2 col-form-label col-form-label-lg">–ù–æ–º–µ—Ä:</label>
                        <div class="col-sm-8">
                            <input type="number" class="form-control form-control-lg" id="snippet_id"
                                   placeholder="–≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ">
                        </div>
                        <div class="col-sm-2">
                            <input type="submit" class="form-control form-control-lg btn btn-info" value="–ù–∞–π—Ç–∏">
                        </div>
                    </div>
                </form>
            </div></div><br>

        <h4 class="fw-bold">{{ pagename }}</h4>
    </div>

    <div class="table-responsive">
        <table class="table table-hover align-middle">
    <thead class="table-light">
        <tr>
            <th class="px-4">ID</th>
            <th class="px-4">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th class="px-4">–î–∞—Ç–∞</th>
            <th class="text-center px-4">‚úèÔ∏è</th>
            <th class="text-center px-4">üóëÔ∏è</th>
        </tr>
    </thead>
    <tbody>
        {% for snippet in snippets %}
        <tr>
            <td class="px-4">{{ snippet.id }}</td>
            <td class="px-4">
                <a href="{% url 'mainapp:snippet-detail' snippet.id %}" class="text-decoration-none">
                    {{ snippet.name }}
                </a>
            </td>
            <td class="px-4">{{ snippet.creation_date|date:"d.m.Y H:i" }}</td>
            <td class="text-center px-4">
                <a href="{% url 'mainapp:snippet-edit' snippet.pk %}" class="btn btn-sm btn-outline-secondary">–†–µ–¥.</a>
            </td>
            <td class="text-center px-4">
                <form action="{% url 'mainapp:snippet-delete' snippet.pk %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å?');">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                </form>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5" class="text-center text-muted">–°–Ω–∏–ø–ø–µ—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
    </div>

    <div class="text-end mt-3">
        <small class="text-muted">–í—Å–µ–≥–æ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤: {{ count_snippets }}</small>
    </div>


    <div class="row mt-3">
            <div class="col-4 offset-4">
                <a href="{% url 'mainapp:snippet-add' %}" class="form-control form-control-lg btn btn-info">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–Ω–∏–ø–ø–µ—Ç</a>
            </div>
        </div>

</div>
{% endblock %}
