{% extends 'base.html' %}
{% load lang_tags %}

{% block title %}–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–Ω–∏–ø–ø–µ—Ç–æ–≤{% endblock %}

{% block content %}
<div class="container my-4">

    <div class="text-center mb-3">
        <h5 class="fw-bold mt-4">{{ pagename }}</h5>
    </div>

    <div class="table-responsive">
        <table class="table table-hover table-sm align-middle">
            <thead class="table-light small">
                <tr>
                    <th>#</th>  <!-- –ù—É–º–µ—Ä–∞—Ü–∏—è -->
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–Ø–∑—ã–∫</th>
                    <th>–°–æ–∑–¥–∞–Ω</th>
                    <th>–û–±–Ω–æ–≤–ª—ë–Ω</th>
                     <th>–ü—É–±–ª–∏—á–Ω—ã–π?</th>
                    <th>–ê–≤—Ç–æ—Ä</th>
                    <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</th>
                    <th>üëÅ –ü—Ä–æ—Å–º–æ—Ç—Ä—ã</th>
                </tr>
            </thead>
            <tbody class="small">
                {% for snippet in page_obj %}
                <tr>
                    <td>{{ forloop.counter }}</td>  <!-- –Ω—É–º–µ—Ä–∞—Ü–∏—è -->
                    <td>
                        <a href="{% url 'mainapp:snippet-detail' snippet.id %}" class="text-decoration-none">
                            {{ snippet.name }}
                        </a>
                    </td>
                    <td>
                        <i class="{% lang_icon_class snippet.lang %}"></i>
                        <span>{{ snippet.lang }}</span>
                    </td>
                    <td>{{ snippet.creation_date|date:"d.m.Y H:i" }}</td>
                    <td>{{ snippet.updated_date|date:"d.m.Y H:i" }}</td>
                    <td>
            {% if snippet.is_public %}
                ‚úÖ
            {% else %}
                üîí
            {% endif %}
        </td>
                    <td>{{ snippet.user|default:"–ù–µ—Ç –∞–≤—Ç–æ—Ä–∞" }}</td>
                <td>{{ snippet.num_comments|default:"-" }}</td>
                    <td>{{ snippet.views_count }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9" class="text-center text-muted">–°–Ω–∏–ø–ø–µ—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="text-end mt-2 small">
        <span class="text-muted">–í—Å–µ–≥–æ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤: {{ count_snippets }}</span>
    </div>

    <div class="row mt-3">
        <div class="col-6 offset-3">
            <a href="{% url 'mainapp:snippet-add' %}" class="btn btn-info w-100 btn-sm">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–Ω–∏–ø–ø–µ—Ç</a>
        </div>
    </div>

{% include 'includes/paginator.html' %}

</div>
{% endblock %}
